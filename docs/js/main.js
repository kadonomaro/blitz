"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".js-nav-toggle"),e=document.querySelector(".js-nav"),n=e.querySelectorAll(".js-nav-link");t.addEventListener("click",function(t){t.preventDefault(),this.classList.toggle("main-nav__toggle--active"),e.classList.toggle("main-nav__wrapper--active"),this.classList.contains("main-nav__toggle--active")||n.forEach(function(t){t.classList.remove("main-nav__link--active")})}),n.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),n.forEach(function(t){t.classList.remove("main-nav__link--active")}),this.classList.add("main-nav__link--active"),document.querySelector("".concat(this.hash)).scrollIntoView({behavior:"smooth"})})});var o=document.querySelectorAll(".js-call-request-button"),r=document.querySelectorAll(".js-view-request-button"),i=document.querySelector(".modal-overlay"),a=i.querySelector(".modal"),c=a.querySelector(".modal__title"),l=a.querySelector(".modal__subtitle"),s=a.querySelector(".modal__close"),u=a.querySelectorAll(".modal__input"),d=a.querySelector(".modal__button"),v=a.querySelector(".modal__info");function m(t,e,n){c.textContent=t,l.textContent=e,d.textContent=n,i.style.display="block",setTimeout(function(){i.classList.add("modal-overlay--active")},10),document.body.classList.add("page--modal-is-open")}o.forEach(function(t){t.addEventListener("click",function(){m("Перезвоним Вам за 5 минут","Оставьте заявку и мы перезвоним за 5 минут, чтобы ответить на ваши вопросы","Жду звонка")})}),r.forEach(function(t){t.addEventListener("click",function(){var t=this.parentNode.querySelector(".apartments-item__title").textContent;m("".concat(t,"\nзапишитесь на просмотр недвижимости уже сегодня"),"Оставьте ваши данные и наш менеджер свяжется с Вами в ближайшее время","Записаться")})}),i.addEventListener("click",function(t){t.target!==this&&t.target!==s||(i.classList.remove("modal-overlay--active"),setTimeout(function(){i.style.display="none"},300),document.body.classList.remove("page--modal-is-open"))}),d.addEventListener("click",function(t){u.forEach(function(e){e.value.length||(t.preventDefault(),v.style.display="block",v.textContent="Заполните оба поля",setTimeout(function(){v.style.display="none"},3e3))})});var f=document.querySelector(".about__images"),h=document.querySelectorAll(".about__image"),y=document.querySelector(".about__images-track"),_=document.querySelectorAll(".about__thumb");function w(t,e,n){e.style.width=n.clientWidth*t.length+"px",t.forEach(function(t){t.style.maxWidth=n.clientWidth+"px"})}y.style.width=f.clientWidth*h.length+"px",w(h,y,f),window.addEventListener("resize",function(){w(h,y,f)}),_.forEach(function(t,e){t.addEventListener("click",function(){_.forEach(function(t){t.classList.remove("about__thumb--active")}),this.classList.add("about__thumb--active"),y.style.transform="translateX(-".concat(f.clientWidth*e,"px)")})}),function(t,e){var n=new IntersectionObserver(function(t){t.forEach(function(t){t.intersectionRatio>0&&t.target.classList.add(e)})},{root:null,rootMargin:"0px",threshold:.1});t.forEach(function(t){n.observe(t)})}(document.querySelectorAll(".apartments__item"),"apartments__item--visible");var L=document.querySelectorAll("[data-filter]"),p=document.querySelectorAll(".apartments__item");L.forEach(function(t){t.addEventListener("click",function(){L.forEach(function(t){t.classList.remove("apartments-filter__button--active")}),this.classList.add("apartments-filter__button--active");var t=this.dataset.filter.split("-"),e=_slicedToArray(t,2),n=e[0],o=e[1];p.forEach(function(t){var e=t.querySelector(".apartments-item__price").textContent.replace(/\s/g,"");t.style.display=+e>=n&&+e<=o?"block":"none"})})}),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;t.addEventListener("click",function(t){t.preventDefault();var o={behavior:"smooth"},r=0;e[r].scrollIntoView(o),r++;var i=setInterval(function(){e[r].scrollIntoView(o),++r>=e.length&&(setTimeout(function(){window.scrollTo({top:0,behavior:"smooth"})},n),clearInterval(i))},n);function a(){clearInterval(i),window.removeEventListener("mousedown",a),window.removeEventListener("touchstart",a),window.removeEventListener("mousewheel",a),window.removeEventListener("keydown",a)}window.addEventListener("mousedown",a),window.addEventListener("touchstart",a),window.addEventListener("mousewheel",a),window.addEventListener("keydown",a)})}(document.querySelector(".hero__button"),document.querySelectorAll("section:not(:first-child)"))});