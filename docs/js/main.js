"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".js-nav-toggle"),t=document.querySelector(".js-nav"),n=t.querySelectorAll(".js-nav-link");e.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("main-nav__toggle--active"),t.classList.toggle("main-nav__wrapper--active"),this.classList.contains("main-nav__toggle--active")||n.forEach(function(e){e.classList.remove("main-nav__link--active")})}),n.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),n.forEach(function(e){e.classList.remove("main-nav__link--active")}),this.classList.add("main-nav__link--active"),document.querySelector("".concat(this.hash)).scrollIntoView({behavior:"smooth"})})});var o=document.querySelectorAll(".js-call-request-button"),r=document.querySelectorAll(".js-view-request-button"),i=document.querySelector(".modal-overlay"),a=i.querySelector(".modal"),c=a.querySelector(".modal__title"),l=a.querySelector(".modal__subtitle"),s=a.querySelector(".modal__close"),u=a.querySelectorAll(".js-modal-input"),d=a.querySelector(".js-modal-button"),v=a.querySelector(".js-modal-info");function m(e,t,n){c.textContent=e,l.textContent=t,d.textContent=n,i.style.display="block",setTimeout(function(){i.classList.add("modal-overlay--active")},10),document.body.classList.add("page--modal-is-open")}o.forEach(function(e){e.addEventListener("click",function(){m("Перезвоним Вам за 5 минут","Оставьте заявку и мы перезвоним за 5 минут, чтобы ответить на ваши вопросы","Жду звонка")})}),r.forEach(function(e){e.addEventListener("click",function(){var e=this.parentNode.querySelector(".apartments-item__title").textContent;m("".concat(e,"\nзапишитесь на просмотр недвижимости уже сегодня"),"Оставьте ваши данные и наш менеджер свяжется с Вами в ближайшее время","Записаться")})}),i.addEventListener("click",function(e){e.target!==this&&e.target!==s||(i.classList.remove("modal-overlay--active"),setTimeout(function(){i.style.display="none"},300),document.body.classList.remove("page--modal-is-open"))}),d.addEventListener("click",function(e){u.forEach(function(t){t.value.length||(e.preventDefault(),v.style.display="block",v.textContent="Заполните оба поля",setTimeout(function(){v.style.display="none"},2e3))})});document.querySelector(".about__images");var f=document.querySelectorAll(".about__image"),_=document.querySelector(".about__images-track"),h=document.querySelectorAll(".about__thumb");_.style.width=100*f.length+"%",f.forEach(function(e){e.style.maxWidth=100/f.length+"%"}),h.forEach(function(e,t){e.addEventListener("click",function(){h.forEach(function(e){e.classList.remove("about__thumb--active")}),this.classList.add("about__thumb--active"),_.style.transform="translateX(-".concat(100/h.length*t,"%)")})}),function(e,t){var n=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&e.target.classList.add(t)})},{root:null,rootMargin:"0px",threshold:.1});e.forEach(function(e){n.observe(e)})}(document.querySelectorAll(".apartments__item"),"apartments__item--visible");var y=document.querySelectorAll("[data-filter]"),b=document.querySelectorAll(".apartments__item");y.forEach(function(e){e.addEventListener("click",function(){y.forEach(function(e){e.classList.remove("apartments-filter__button--active")}),this.classList.add("apartments-filter__button--active");var e=this.dataset.filter.split("-"),t=_slicedToArray(e,2),n=t[0],o=t[1];b.forEach(function(e){var t=e.querySelector(".apartments-item__price").textContent.replace(/\s/g,"");e.style.display=+t>=n&&+t<=o?"block":"none"})})}),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;e.addEventListener("click",function(e){e.preventDefault();var o={behavior:"smooth"},r=0;t[r].scrollIntoView(o),r++;var i=setInterval(function(){t[r].scrollIntoView(o),++r>=t.length&&(setTimeout(function(){window.scrollTo({top:0,behavior:"smooth"})},n),clearInterval(i))},n);function a(){clearInterval(i),window.removeEventListener("mousedown",a),window.removeEventListener("touchstart",a),window.removeEventListener("mousewheel",a),window.removeEventListener("keydown",a)}window.addEventListener("mousedown",a),window.addEventListener("touchstart",a),window.addEventListener("mousewheel",a),window.addEventListener("keydown",a)})}(document.querySelector(".hero__button"),document.querySelectorAll("section:not(:first-child)"));var q=document.querySelector(".questions-block"),L=q.querySelectorAll(".questions-block__image"),E=q.querySelector(".questions-block__next"),g=q.querySelector(".questions-block__track"),k=q.querySelectorAll(".questions-block__slide"),p=q.querySelector(".questions-block__result-current"),w=q.querySelector(".questions-block__result-total"),S=q.querySelector(".questions-block__output"),A=1,x=!1,C="",I=[];w.textContent=k.length-1,L.forEach(function(e){e.addEventListener("click",function(){L.forEach(function(e){e.classList.remove("questions-block__image--checked")}),this.classList.add("questions-block__image--checked"),E.classList.remove("questions-block__next--disabled"),x=!0,C=this.nextElementSibling.dataset.value})}),g.style.width=100*k.length+"%",k.forEach(function(e){e.style.width=100/k.length+"%"}),E.addEventListener("click",function(e){e.preventDefault(),A<k.length&&x&&(g.style.transform="translateX(-".concat(100/k.length*A,"%)"),A++,x=!1,p.textContent=A-1,I.push(C)),this.classList.add("questions-block__next--disabled"),A===k.length&&(this.style.display="none",S.textContent="\n                    Вы хотите ".concat(I[3]," продать ").concat(I[1]," ").concat(I[2]," ").concat(I[0],", \n                    покупатель может использовать ").concat(I[4],"? "))})});