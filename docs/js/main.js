"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],o=!0,a=!1,i=void 0;try{for(var r,c=t[Symbol.iterator]();!(o=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".js-nav-toggle"),e=document.querySelector(".js-nav"),n=e.querySelectorAll(".js-nav-link");t.addEventListener("click",function(t){t.preventDefault(),this.classList.toggle("main-nav__toggle--active"),e.classList.toggle("main-nav__wrapper--active"),this.classList.contains("main-nav__toggle--active")||n.forEach(function(t){t.classList.remove("main-nav__link--active")})}),n.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),n.forEach(function(t){t.classList.remove("main-nav__link--active")}),this.classList.add("main-nav__link--active"),document.querySelector("".concat(this.hash)).scrollIntoView({behavior:"smooth"})})});var o=document.querySelectorAll(".js-call-request-button"),a=document.querySelectorAll(".js-view-request-button"),i=document.querySelector(".modal-overlay"),r=i.querySelector(".modal"),c=r.querySelector(".modal__title"),l=r.querySelector(".modal__subtitle"),s=r.querySelector(".modal__close"),u=r.querySelectorAll(".modal__input"),d=r.querySelector(".modal__button"),m=r.querySelector(".modal__info");function f(t,e,n){c.textContent=t,l.textContent=e,d.textContent=n,i.style.display="block",setTimeout(function(){i.classList.add("modal-overlay--active")},10),document.body.classList.add("page--modal-is-open")}o.forEach(function(t){t.addEventListener("click",function(){f("Перезвоним Вам за 5 минут","Оставьте заявку и мы перезвоним за 5 минут, чтобы ответить на ваши вопросы","Жду звонка")})}),a.forEach(function(t){t.addEventListener("click",function(){var t=this.parentNode.querySelector(".apartments-item__title").textContent;f("".concat(t,"\nзапишитесь на просмотр недвижимости уже сегодня"),"Оставьте ваши данные и наш менеджер свяжется с Вами в ближайшее время","Записаться")})}),i.addEventListener("click",function(t){t.target!==this&&t.target!==s||(i.classList.remove("modal-overlay--active"),setTimeout(function(){i.style.display="none"},300),document.body.classList.remove("page--modal-is-open"))}),d.addEventListener("click",function(t){u.forEach(function(e){e.value.length||(t.preventDefault(),m.style.display="block",m.textContent="Заполните оба поля",setTimeout(function(){m.style.display="none"},3e3))})});var v=document.querySelector(".about__images"),_=document.querySelectorAll(".about__image"),y=document.querySelector(".about__images-track"),h=document.querySelectorAll(".about__thumb");function p(t,e,n){e.style.width=n.clientWidth*t.length+"px",t.forEach(function(t){t.style.maxWidth=n.clientWidth+"px"})}y.style.width=v.clientWidth*_.length+"px",p(_,y,v),window.addEventListener("resize",function(){p(_,y,v)}),h.forEach(function(t,e){t.addEventListener("click",function(){h.forEach(function(t){t.classList.remove("about__thumb--active")}),this.classList.add("about__thumb--active"),y.style.transform="translateX(-".concat(v.clientWidth*e,"px)")})}),function(t,e){var n=new IntersectionObserver(function(t){t.forEach(function(t){t.intersectionRatio>0&&t.target.classList.add(e)})},{root:null,rootMargin:"0px",threshold:.1});t.forEach(function(t){n.observe(t)})}(document.querySelectorAll(".apartments__item"),"apartments__item--visible");var b=document.querySelectorAll("[data-filter]"),L=document.querySelectorAll(".apartments__item");b.forEach(function(t){t.addEventListener("click",function(){b.forEach(function(t){t.classList.remove("apartments-filter__button--active")}),this.classList.add("apartments-filter__button--active");var t=this.dataset.filter.split("-"),e=_slicedToArray(t,2),n=e[0],o=e[1];L.forEach(function(t){var e=t.querySelector(".apartments-item__price").textContent.replace(/\s/g,"");t.style.display=+e>=n&&+e<=o?"block":"none"})})})});